---
const navItems = [
    { name: "Home", href: "/" },
    { name: "Servizi", href: "/servizi" },
    { name: "Laboratorio", href: "/laboratorio" },
    { name: "Articoli", href: "/articoli" },
    { name: "Risorse", href: "/risorse" }, // Added Risorse
    { name: "Chi Sono", href: "/chi-sono" },
    { name: "News", href: "/news" },
];
---

<header
    class="fixed top-0 w-full h-20 bg-white/95 backdrop-blur-md border-b border-slate-200 z-50 transition-all duration-300"
>
    <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between"
    >
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2 group no-underline">
            <img
                src="/logo.png"
                alt="Rocco Admin Tech Logo"
                class="h-14 w-auto object-contain transition-transform group-hover:scale-105"
            />
        </a>

        <!-- Desktop Menu -->
        <nav class="hidden lg:flex items-center gap-6 xl:gap-8">
            {
                navItems.map((item) => (
                    <a
                        href={item.href}
                        class="text-sm font-semibold text-slate-600 hover:text-blue-600 transition-colors relative no-underline hover:bg-slate-50 px-3 py-2 rounded-lg"
                    >
                        {item.name}
                    </a>
                ))
            }
        </nav>

        <!-- CTA & Mobile Toggle -->
        <div class="flex items-center gap-3">
            <a
                href="/laboratorio-sim.html"
                class="hidden xl:inline-flex items-center justify-center px-4 py-2 text-sm font-bold text-indigo-600 bg-indigo-50 border border-indigo-100 rounded-lg hover:bg-indigo-100 transition-colors no-underline uppercase tracking-wide"
            >
                <span class="mr-2 text-lg">ðŸ©º</span> Diagnostica
            </a>
            <a
                href="/contatti"
                class="hidden sm:inline-flex items-center justify-center px-6 py-2.5 text-sm font-bold text-white transition-all duration-200 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none shadow-md hover:shadow-lg hover:-translate-y-0.5 no-underline uppercase tracking-wide"
            >
                Richiedi SOS
            </a>

            <!-- Mobile Menu Button -->
            <button
                id="mobile-menu-btn"
                class="lg:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"
                aria-label="Menu"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-7 w-7"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>
    </div>
</header>

<!-- Mobile Menu Overlay -->
<div
    id="mobile-menu"
    class="fixed inset-0 bg-white/98 z-40 transform translate-x-full transition-transform duration-300 lg:hidden flex flex-col pt-24 px-6 pb-6 shadow-2xl backdrop-blur-xl"
>
    <button
        id="close-menu-btn"
        class="absolute top-5 right-4 p-2 text-slate-500 hover:bg-slate-100 rounded-full"
    >
        <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </button>

    <nav class="flex flex-col gap-4 text-center">
        {
            navItems.map((item) => (
                <a
                    href={item.href}
                    class="text-xl font-bold text-slate-800 hover:text-blue-600 no-underline py-3 border-b border-slate-100"
                >
                    {item.name}
                </a>
            ))
        }
        <div class="mt-8 flex flex-col gap-4">
            <a
                href="/laboratorio-sim.html"
                class="text-lg font-bold text-indigo-600 no-underline bg-indigo-50 py-4 rounded-xl"
            >
                App Diagnostica
            </a>
            <a
                href="/contatti"
                class="text-lg font-bold text-white no-underline bg-blue-600 py-4 rounded-xl"
            >
                Richiedi SOS
            </a>
        </div>
    </nav>
</div>

<script>
    const btn = document.getElementById("mobile-menu-btn");
    const closeBtn = document.getElementById("close-menu-btn");
    const menu = document.getElementById("mobile-menu");
    const links = menu?.querySelectorAll("a");

    function toggleMenu() {
        menu?.classList.toggle("translate-x-full");
        document.body.classList.toggle("overflow-hidden");
    }

    btn?.addEventListener("click", toggleMenu);
    closeBtn?.addEventListener("click", toggleMenu);

    // Close menu when a link is clicked
    links?.forEach((link) => {
        link.addEventListener("click", toggleMenu);
    });
</script>
