---
const navItems = [
    { name: "Home", href: "/" },
    { name: "Servizi", href: "/servizi" },
    { name: "Laboratorio", href: "/laboratorio" },
    { name: "Articoli", href: "/articoli" },
    { name: "Chi Sono", href: "/chi-sono" },
    { name: "News", href: "/news" },
];
---

<header
    class="fixed top-0 w-full h-20 bg-white/95 backdrop-blur-sm border-b border-slate-200 z-50"
>
    <div
        class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between"
    >
        <!-- Logo -->
        <a href="/" class="flex flex-col leading-none group no-underline">
            <span
                class="text-xl font-bold tracking-tight text-slate-900 group-hover:text-blue-600 transition-colors"
            >
                Rocco Andrea Ligorio<span class="text-blue-600">.</span>
            </span>
            <span
                class="text-[0.65rem] font-medium text-slate-500 uppercase tracking-widest mt-0.5"
            >
                Tecnico Informatico Roma
            </span>
        </a>

        <!-- Desktop Menu -->
        <nav class="hidden md:flex items-center gap-8">
            {
                navItems.map((item) => (
                    <a
                        href={item.href}
                        class="text-sm font-medium text-slate-600 hover:text-blue-600 transition-colors relative no-underline"
                    >
                        {item.name}
                    </a>
                ))
            }
        </nav>

        <!-- CTA & Mobile Toggle -->
        <div class="flex items-center gap-4">
            <a
                href="/laboratorio-sim.html"
                class="hidden lg:inline-flex items-center justify-center px-4 py-2 text-sm font-semibold text-blue-600 bg-blue-50 border border-blue-100 rounded-lg hover:bg-blue-100 transition-colors no-underline"
            >
                App Diagnostica
            </a>
            <a
                href="/contatti"
                class="hidden sm:inline-flex items-center justify-center px-5 py-2 text-sm font-semibold text-white transition-all duration-200 bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600 shadow-sm hover:shadow no-underline"
            >
                Contattami
            </a>

            <!-- Mobile Menu Button -->
            <button
                id="mobile-menu-btn"
                class="md:hidden p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors"
                aria-label="Menu"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </div>
    </div>
</header>

<!-- Mobile Menu Overlay -->
<div
    id="mobile-menu"
    class="fixed inset-0 bg-white z-40 transform translate-x-full transition-transform duration-300 md:hidden flex flex-col pt-24 px-6 pb-6 shadow-2xl"
>
    <button
        id="close-menu-btn"
        class="absolute top-6 right-6 p-2 text-slate-500 hover:bg-slate-100 rounded-full"
    >
        <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
        >
            <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </button>

    <nav class="flex flex-col gap-6 text-center">
        {
            navItems.map((item) => (
                <a
                    href={item.href}
                    class="text-2xl font-semibold text-slate-800 hover:text-blue-600 no-underline"
                >
                    {item.name}
                </a>
            ))
        }
        <hr class="border-slate-100 my-2" />
        <a
            href="/laboratorio-sim.html"
            class="text-lg font-medium text-blue-600 no-underline"
            >App Diagnostica</a
        >
        <a
            href="/contatti"
            class="text-lg font-medium text-slate-800 no-underline">Contatti</a
        >
    </nav>
</div>

<script>
    const btn = document.getElementById("mobile-menu-btn");
    const closeBtn = document.getElementById("close-menu-btn");
    const menu = document.getElementById("mobile-menu");

    function toggleMenu() {
        menu?.classList.toggle("translate-x-full");
        document.body.classList.toggle("overflow-hidden");
    }

    btn?.addEventListener("click", toggleMenu);
    closeBtn?.addEventListener("click", toggleMenu);
</script>
